<!DOCTYPE html>
<html lang=en>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>u1-ico Test</title>

        <script src="https://cdn.jsdelivr.net/gh/nuxodin/lazyfill/mod.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/nuxodin/lazyfill/htmlfills.js"></script>

        <link rel=stylesheet href="https://cdn.jsdelivr.net/gh/u1ui/classless.css/simple.min.css" crossorigin>

        <script src="../auto.js" type=module></script>

<body>
    <style>
    .card {
        box-shadow: var(--shadow);
        border:0.1rem solid var(--color);
        text-align:center;
        padding:var(--gap);
        background-color:var(--color-bg);
        background-color:var(--color-light);
        font-size:.09rem;
        border-radius: 0.5rem;
    }
    body {
        padding:0;
        max-width:none;
        display:block;
    }
    </style>

    <style id=dayScrollThumb>
    	.zslider-container [type="range"]::-webkit-slider-thumb {
		    background: url('day1.png');
		}

		.zslider-container [type="range"]::-moz-range-thumb {
			background: url('day1.png');
		}
    </style>

    <style>
		.main-container {
			width : 100%;
			background-repeat: repeat;
		}
		.header {
			width: 100%;
		}
		.header h2 {
			margin: auto;
			width: -moz-fit-content;
			width: fit-content;
		}
		.pull-left {
			float: left;
			margin-left: 5rem;
		}

		.pull-right {
			float: right;
			margin-right: 5rem;
		}



		.zslider-container [type="range"] {
		    -webkit-appearance: none;
		}

		.zslider-container [type="range"]::-webkit-slider-runnable-track  {
		    width: 100%;
		    height: 0.6rem;
		    background-image: linear-gradient(to right, #7d588d, #8F00FF);
		    border: none;
		    border-radius: 0.3rem;
		}

		.zslider-container [type="range"]::-moz-range-track {
			width: 100%;
		    height: 0.6rem;
		    background-image: linear-gradient(to right, #7d588d, #8F00FF);
		    border: none;
		    border-radius: 0.3rem;
		}

		.zslider-container [type="range"]::-webkit-slider-thumb {
		    -webkit-appearance: none;
		    border: none;
		    height: 2.4rem;
		    width: 2.4rem;
		    border-radius: 50%;
		    background: url('night1.png');
		    background-size: contain;
		    margin-top: -1.0rem;
		}

		.zslider-container [type="range"]::-moz-range-thumb {
		    -webkit-appearance: none;
		    border: none;
		    height: 2.4rem;
		    width: 2.4rem;
		    border-radius: 50%;
		    background: url('night1.png');
		    background-size: contain;
		    margin-top: -1.0rem;
		}

		.zslider-container [type="range"]:focus {
		    outline: none;
		}

		.zslider-container [type="range"]:-moz-focusring{
		    outline: 1px solid white;
		    outline-offset: -1px;
		}
	</style>

	<div class="main-container">
		<div class="header">
			<h2>Das bewirken Ortho-K-Linsen</h2>
		</div>

		<div class="pull-left">
	    	<h1>NACHT</h1>
	    	<h5>Linse beim Zubettgehen einsetzen</h5>
	    </div>

	    <div class="pull-right">
	    	<h1>TAG</h1>
	    	<h5>Linse beim Aufstehen herausnehmen</h5>
	    </div>

		<div style="margin: auto; width: 60%;">
			<div style="font-size:1.2rem; padding:1rem; margin: auto; align-content: center; width: 100%; --gap:0.1rem ">

				<div style="width: 60%; margin:auto; border:none;" id=slideranimimg class="card" >
					<div style="margin: auto;" class="zslider-container">
			            <input type=range min=0 max=100 value=0 id="sliderRange" class="zslider" oninput="setRange(this, event)">
			        </div>
			        <br>
			        <br>
			        <img src="slider1.png">
				</div>

			</div>
		</div>


	    <script>
	    	document.getElementById('sliderRange').oninput()

	    	function setRange(el, e) {
	    		let min_val = parseInt(el.min)
	    		let max_val = parseInt(el.max)
	    		let avg_val = ( min_val + max_val ) / 2

	    		slideranimimg.style.setProperty('--hsl-l', el.value )

	    		if(el.value > avg_val){
	    			setDayIcon()
	    		} else {
	    			setNightIcon()
	    		}
	    	}

	    	function setDayIcon() {
	    		let dayScrollThumbEl = document.getElementById('dayScrollThumb')
	    		let newDayThumbIconEl = document.getElementById('newDayThumbIcon')

	    		if(newDayThumbIconEl == undefined){
	    			let addStyleAtLast = dayScrollThumbEl.cloneNode(true)

		    		addStyleAtLast.id = 'newDayThumbIcon'

		    		let allPageStyles = document.getElementsByTagName('style')

		    		if(allPageStyles.length > 0){
		    			allPageStyles[allPageStyles.length- 1]
		    				.insertAdjacentHTML('afterend', addStyleAtLast.outerHTML)
		    		} else {
		    			document.head.insertAdjacentHTML('beforeend', addStyleAtLast.outerHTML)
		    		}
	    		}
	    	}

	    	function setNightIcon() {
	    		let x =document.getElementById('newDayThumbIcon')
	    		if(x != undefined){
	    			x.remove()
	    		}
	    	}
	    </script>
	</div>
